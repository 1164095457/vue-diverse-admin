import{n as W,J as U,K as ae,m as ze,L as Re,M as ye,d as ve,N as ie,O as re,h as Be,P as de,b as D,Q as Ce,R as Xe,S as Pe,U as Ye,V as Fe,W as qe,B as $,X as Ze,r as M,s as Q,y as _,o as N,c as q,f as L,e as T,w as B,Y as se,g as m,l as z,x as R,a as A,v as ke,Z as He,$ as je,a0 as Ne,a1 as De,C as Te,D as Ke,a2 as Qe,a3 as _e,a4 as et,a5 as tt,p as x,a6 as Ue,t as Z,a7 as nt,a8 as ot,a9 as Me,G as st,q as at,aa as ue,k as he,z as rt,ab as dt,ac as Ve,ad as Ge,ae as lt,af as Ae,_ as it,ag as ct,ah as ut,H as ft,ai as ht,aj as pt}from"./index-e27f3969.js";import{E as gt}from"./el-card-599ce099.js";import{E as xe}from"./el-button-0fb5ca99.js";import{E as yt}from"./el-checkbox-41add9d4.js";import{E as vt}from"./el-input-72550e16.js";import{o as Ie,_ as mt,E as Ct,i as kt,u as Nt,a as bt,b as Et}from"./el-overlay-cdf21a68.js";import{E as wt}from"./focus-trap-bbc3462f.js";import{u as Le}from"./use-form-item-4dc8d425.js";import{f as Dt}from"./use-form-common-props-fc5c4daa.js";import"./event-ada0a21c.js";import"./_Uint8Array-0b017f2b.js";const be="_trap-focus-children",J=[],$e=e=>{if(J.length===0)return;const t=J[J.length-1][be];if(t.length>0&&e.code===U.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const o=e.shiftKey,s=e.target===t[0],n=e.target===t[t.length-1];s&&o&&(e.preventDefault(),t[t.length-1].focus()),n&&!o&&(e.preventDefault(),t[0].focus())}},Kt={beforeMount(e){e[be]=Ie(e),J.push(e),J.length<=1&&document.addEventListener("keydown",$e)},updated(e){W(()=>{e[be]=Ie(e)})},unmounted(){J.shift(),J.length===0&&document.removeEventListener("keydown",$e)}},ee="$treeNodeId",Oe=function(e,t){!t||t[ee]||Object.defineProperty(t,ee,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Se=function(e,t){return e?t[e]:t[ee]},Ee=(e,t,o)=>{const s=e.value.currentNode;o();const n=e.value.currentNode;s!==n&&t("current-change",n?n.data:null,n)},we=e=>{let t=!0,o=!0,s=!0;for(let n=0,a=e.length;n<a;n++){const i=e[n];(i.checked!==!0||i.indeterminate)&&(t=!1,i.disabled||(s=!1)),(i.checked!==!1||i.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:s,half:!t&&!o}},pe=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:s}=we(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;!n||n.level===0||e.store.checkStrictly||pe(n)},fe=function(e,t){const o=e.store.props,s=e.data||{},n=o[t];if(typeof n=="function")return n(s,e);if(typeof n=="string")return s[n];if(typeof n>"u"){const a=s[t];return a===void 0?"":a}};let St=0;class X{constructor(t){this.id=St++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)ae(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const a=fe(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Oe(this,this.data),!this.data)return;const s=t.defaultExpandedKeys,n=t.key;n&&s&&s.includes(this.key)&&this.expand(null,t.autoExpandParent),n&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Oe(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=fe(this,"children")||[];for(let s=0,n=o.length;s<n;s++)this.insertChild({data:o[s]})}get label(){return fe(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return fe(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(s=>s===t||o&&s.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,s){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof X)){if(!s){const n=this.getChildren(!0);n.includes(t.data)||(typeof o>"u"||o<0?n.push(t.data):n.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=ze(new X(t)),t instanceof X&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let s;o&&(s=this.childNodes.indexOf(o)),this.insertChild(t,s)}insertAfter(t,o){let s;o&&(s=this.childNodes.indexOf(o),s!==-1&&(s+=1)),this.insertChild(t,s)}removeChild(t){const o=this.getChildren()||[],s=o.indexOf(t.data);s>-1&&o.splice(s,1);const n=this.childNodes.indexOf(t);n>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===t){o=this.childNodes[s];break}o&&this.removeChild(o)}expand(t,o){const s=()=>{if(o){let n=this.parent;for(;n.level>0;)n.expanded=!0,n=n.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(n=>{n.canFocus=!0})};this.shouldLoadData()?this.loadData(n=>{Array.isArray(n)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||pe(this),s())}):s()}doCreateChildren(t,o={}){t.forEach(s=>{this.insertChild(Object.assign({data:s},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,s,n){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:i,allWithoutDisable:d}=we(this.childNodes);!this.isLeaf&&!i&&d&&(this.checked=!1,t=!1);const p=()=>{if(o){const l=this.childNodes;for(let r=0,g=l.length;r<g;r++){const v=l[r];n=n||t!==!1;const C=v.disabled?v.checked:n;v.setChecked(C,o,!0,n)}const{half:f,all:u}=we(l);u||(this.checked=u,this.indeterminate=f)}};if(this.shouldLoadData()){this.loadData(()=>{p(),pe(this)},{checked:t!==!1});return}else p()}const a=this.parent;!a||a.level===0||s||pe(a)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const s=this.store.props;let n="children";return s&&(n=s.children||"children"),o[n]===void 0&&(o[n]=null),t&&!o[n]&&(o[n]=[]),o[n]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(a=>a.data),s={},n=[];t.forEach((a,i)=>{const d=a[ee];!!d&&o.findIndex(l=>l[ee]===d)>=0?s[d]={index:i,data:a}:n.push({index:i,data:a})}),this.store.lazy||o.forEach(a=>{s[a[ee]]||this.removeChildByData(a)}),n.forEach(({index:a,data:i})=>{this.insertChild({data:i},a)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const s=n=>{this.childNodes=[],this.doCreateChildren(n,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,n)};this.store.load(this,s)}else t&&t.call(this)}}class Bt{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)ae(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new X({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,s=this.lazy,n=function(a){const i=a.root?a.root.childNodes:a.childNodes;if(i.forEach(d=>{d.visible=o.call(d,t,d.data,d),n(d)}),!a.visible&&i.length){let d=!0;d=!i.some(p=>p.visible),a.root?a.root.visible=d===!1:a.visible=d===!1}t&&a.visible&&!a.isLeaf&&!s&&a.expand()};n(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof X)return t;const o=Re(t)?Se(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const s=this.getNode(o);s.parent.insertBefore({data:t},s)}insertAfter(t,o){const s=this.getNode(o);s.parent.insertAfter({data:t},s)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const s=o?this.getNode(o):this.root;s&&s.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(s=>{const n=o[s];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const s=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(d=>{(d.checked||o&&d.indeterminate)&&(!t||t&&d.isLeaf)&&s.push(d.data),n(d)})};return n(this),s}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),o(a)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const s in o)ae(o,s)&&t.push(o[s]);return t}updateChildren(t,o){const s=this.nodesMap[t];if(!s)return;const n=s.childNodes;for(let a=n.length-1;a>=0;a--){const i=n[a];this.remove(i.data)}for(let a=0,i=o.length;a<i;a++){const d=o[a];this.append(d,s.data)}}_setCheckedKeys(t,o=!1,s){const n=this._getAllNodes().sort((d,p)=>p.level-d.level),a=Object.create(null),i=Object.keys(s);n.forEach(d=>d.setChecked(!1,!1));for(let d=0,p=n.length;d<p;d++){const l=n[d],f=l.data[t].toString();if(!i.includes(f)){l.checked&&!a[f]&&l.setChecked(!1,!1);continue}let r=l.parent;for(;r&&r.level>0;)a[r.data[t]]=!0,r=r.parent;if(l.isLeaf||this.checkStrictly){l.setChecked(!0,!1);continue}if(l.setChecked(!0,!0),o){l.setChecked(!1,!1);const g=function(v){v.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),g(E)})};g(l)}}}setCheckedNodes(t,o=!1){const s=this.key,n={};t.forEach(a=>{n[(a||{})[s]]=!0}),this._setCheckedKeys(s,o,n)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const s=this.key,n={};t.forEach(a=>{n[a]=!0}),this._setCheckedKeys(s,o,n)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const s=this.getNode(o);s&&s.expand(null,this.autoExpandParent)})}setChecked(t,o,s){const n=this.getNode(t);n&&n.setChecked(!!o,s)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const s=t[this.key],n=this.nodesMap[s];this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Tt=ve({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=ie("tree"),o=re("NodeInstance"),s=re("RootTree");return()=>{const n=e.node,{data:a,store:i}=n;return e.renderContent?e.renderContent(Be,{_self:o,node:n,data:a,store:i}):s.ctx.slots.default?s.ctx.slots.default({node:n,data:a}):Be("span",{class:t.be("node","label")},[n.label])}}});var Mt=ye(Tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function We(e){const t=re("TreeNodeMap",null),o={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return t&&t.children.push(o),de("TreeNodeMap",o),{broadcastExpanded:s=>{if(e.accordion)for(const n of o.children)n.treeNodeExpand(s)}}}const Je=Symbol("dragEvents");function At({props:e,ctx:t,el$:o,dropIndicator$:s,store:n}){const a=ie("tree"),i=D({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return de(Je,{treeNodeDragStart:({event:f,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return f.preventDefault(),!1;f.dataTransfer.effectAllowed="move";try{f.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=u,t.emit("node-drag-start",u.node,f)},treeNodeDragOver:({event:f,treeNode:u})=>{const r=u,g=i.value.dropNode;g&&g.node.id!==r.node.id&&Ce(g.$el,a.is("drop-inner"));const v=i.value.draggingNode;if(!v||!r)return;let C=!0,E=!0,K=!0,I=!0;typeof e.allowDrop=="function"&&(C=e.allowDrop(v.node,r.node,"prev"),I=E=e.allowDrop(v.node,r.node,"inner"),K=e.allowDrop(v.node,r.node,"next")),f.dataTransfer.dropEffect=E||C||K?"move":"none",(C||E||K)&&(g==null?void 0:g.node.id)!==r.node.id&&(g&&t.emit("node-drag-leave",v.node,g.node,f),t.emit("node-drag-enter",v.node,r.node,f)),(C||E||K)&&(i.value.dropNode=r),r.node.nextSibling===v.node&&(K=!1),r.node.previousSibling===v.node&&(C=!1),r.node.contains(v.node,!1)&&(E=!1),(v.node===r.node||v.node.contains(r.node))&&(C=!1,E=!1,K=!1);const O=r.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),H=o.value.getBoundingClientRect();let S;const P=C?E?.25:K?.45:1:-1,G=K?E?.75:C?.55:0:1;let j=-9999;const h=f.clientY-O.top;h<O.height*P?S="before":h>O.height*G?S="after":E?S="inner":S="none";const k=r.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),w=s.value;S==="before"?j=k.top-H.top:S==="after"&&(j=k.bottom-H.top),w.style.top=`${j}px`,w.style.left=`${k.right-H.left}px`,S==="inner"?Xe(r.$el,a.is("drop-inner")):Ce(r.$el,a.is("drop-inner")),i.value.showDropIndicator=S==="before"||S==="after",i.value.allowDrop=i.value.showDropIndicator||I,i.value.dropType=S,t.emit("node-drag-over",v.node,r.node,f)},treeNodeDragEnd:f=>{const{draggingNode:u,dropType:r,dropNode:g}=i.value;if(f.preventDefault(),f.dataTransfer.dropEffect="move",u&&g){const v={data:u.node.data};r!=="none"&&u.node.remove(),r==="before"?g.node.parent.insertBefore(v,g.node):r==="after"?g.node.parent.insertAfter(v,g.node):r==="inner"&&g.node.insertChild(v),r!=="none"&&n.value.registerNode(v),Ce(g.$el,a.is("drop-inner")),t.emit("node-drag-end",u.node,g.node,r,f),r!=="none"&&t.emit("node-drop",u.node,g.node,r,f)}u&&!g&&t.emit("node-drag-end",u.node,null,r,f),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}const It=ve({name:"ElTreeNode",components:{ElCollapseTransition:mt,ElCheckbox:yt,NodeContent:Mt,ElIcon:Pe,Loading:Ye},props:{node:{type:X,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=ie("tree"),{broadcastExpanded:s}=We(e),n=re("RootTree"),a=D(!1),i=D(!1),d=D(null),p=D(null),l=D(null),f=re(Je),u=Fe();de("NodeInstance",u),n||qe("Tree","Can not find node's tree."),e.node.expanded&&(a.value=!0,i.value=!0);const r=n.props.props.children||"children";$(()=>{const h=e.node.data[r];return h&&[...h]},()=>{e.node.updateChildren()}),$(()=>e.node.indeterminate,h=>{C(e.node.checked,h)}),$(()=>e.node.checked,h=>{C(h,e.node.indeterminate)}),$(()=>e.node.expanded,h=>{W(()=>a.value=h),h&&(i.value=!0)});const g=h=>Se(n.props.nodeKey,h.data),v=h=>{const k=e.props.class;if(!k)return{};let w;if(Ne(k)){const{data:ne}=h;w=k(ne,h)}else w=k;return De(w)?{[w]:!0}:w},C=(h,k)=>{(d.value!==h||p.value!==k)&&n.ctx.emit("check-change",e.node.data,h,k),d.value=h,p.value=k},E=h=>{Ee(n.store,n.ctx.emit,()=>n.store.value.setCurrentNode(e.node)),n.currentNode.value=e.node,n.props.expandOnClickNode&&I(),n.props.checkOnClickNode&&!e.node.disabled&&O(null,{target:{checked:!e.node.checked}}),n.ctx.emit("node-click",e.node.data,e.node,u,h)},K=h=>{n.instance.vnode.props.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),n.ctx.emit("node-contextmenu",h,e.node.data,e.node,u)},I=()=>{e.node.isLeaf||(a.value?(n.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},O=(h,k)=>{e.node.setChecked(k.target.checked,!n.props.checkStrictly),W(()=>{const w=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:w.getCheckedNodes(),checkedKeys:w.getCheckedKeys(),halfCheckedNodes:w.getHalfCheckedNodes(),halfCheckedKeys:w.getHalfCheckedKeys()})})};return{ns:o,node$:l,tree:n,expanded:a,childNodeRendered:i,oldChecked:d,oldIndeterminate:p,getNodeKey:g,getNodeClass:v,handleSelectChange:C,handleClick:E,handleContextMenu:K,handleExpandIconClick:I,handleCheckChange:O,handleChildNodeExpand:(h,k,w)=>{s(k),n.ctx.emit("node-expand",h,k,w)},handleDragStart:h=>{n.props.draggable&&f.treeNodeDragStart({event:h,treeNode:e})},handleDragOver:h=>{h.preventDefault(),n.props.draggable&&f.treeNodeDragOver({event:h,treeNode:{$el:l.value,node:e.node}})},handleDrop:h=>{h.preventDefault()},handleDragEnd:h=>{n.props.draggable&&f.treeNodeDragEnd(h)},CaretRight:Ze}}}),Lt=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],$t=["aria-expanded"];function Ot(e,t,o,s,n,a){const i=M("el-icon"),d=M("el-checkbox"),p=M("loading"),l=M("node-content"),f=M("el-tree-node"),u=M("el-collapse-transition");return Q((N(),q("div",{ref:"node$",class:m([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=z((...r)=>e.handleClick&&e.handleClick(...r),["stop"])),onContextmenu:t[2]||(t[2]=(...r)=>e.handleContextMenu&&e.handleContextMenu(...r)),onDragstart:t[3]||(t[3]=z((...r)=>e.handleDragStart&&e.handleDragStart(...r),["stop"])),onDragover:t[4]||(t[4]=z((...r)=>e.handleDragOver&&e.handleDragOver(...r),["stop"])),onDragend:t[5]||(t[5]=z((...r)=>e.handleDragEnd&&e.handleDragEnd(...r),["stop"])),onDrop:t[6]||(t[6]=z((...r)=>e.handleDrop&&e.handleDrop(...r),["stop"]))},[L("div",{class:m(e.ns.be("node","content")),style:ke({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(N(),T(i,{key:0,class:m([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:z(e.handleExpandIconClick,["stop"])},{default:B(()=>[(N(),T(se(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):R("v-if",!0),e.showCheckbox?(N(),T(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=z(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):R("v-if",!0),e.node.loading?(N(),T(i,{key:2,class:m([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:B(()=>[A(p)]),_:1},8,["class"])):R("v-if",!0),A(l,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),A(u,null,{default:B(()=>[!e.renderAfterExpand||e.childNodeRendered?Q((N(),q("div",{key:0,class:m(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(N(!0),q(He,null,je(e.node.childNodes,r=>(N(),T(f,{key:e.getNodeKey(r),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:r,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,$t)),[[_,e.expanded]]):R("v-if",!0)]),_:1})],42,Lt)),[[_,e.node.visible]])}var zt=ye(It,[["render",Ot],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Rt({el$:e},t){const o=ie("tree"),s=Te([]),n=Te([]);Ke(()=>{i()}),Qe(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),$(n,d=>{d.forEach(p=>{p.setAttribute("tabindex","-1")})}),_e(e,"keydown",d=>{const p=d.target;if(!p.className.includes(o.b("node")))return;const l=d.code;s.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const f=s.value.indexOf(p);let u;if([U.up,U.down].includes(l)){if(d.preventDefault(),l===U.up){u=f===-1?0:f!==0?f-1:s.value.length-1;const g=u;for(;!t.value.getNode(s.value[u].dataset.key).canFocus;){if(u--,u===g){u=-1;break}u<0&&(u=s.value.length-1)}}else{u=f===-1?0:f<s.value.length-1?f+1:0;const g=u;for(;!t.value.getNode(s.value[u].dataset.key).canFocus;){if(u++,u===g){u=-1;break}u>=s.value.length&&(u=0)}}u!==-1&&s.value[u].focus()}[U.left,U.right].includes(l)&&(d.preventDefault(),p.click());const r=p.querySelector('[type="checkbox"]');[U.enter,U.space].includes(l)&&r&&(d.preventDefault(),r.click())});const i=()=>{var d;s.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const p=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(p.length){p[0].setAttribute("tabindex","0");return}(d=s.value[0])==null||d.setAttribute("tabindex","0")}}const Pt=ve({name:"ElTree",components:{ElTreeNode:zt},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:et}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=tt(),s=ie("tree"),n=D(new Bt({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const a=D(n.value.root),i=D(null),d=D(null),p=D(null),{broadcastExpanded:l}=We(e),{dragState:f}=At({props:e,ctx:t,el$:d,dropIndicator$:p,store:n});Rt({el$:d},n);const u=x(()=>{const{childNodes:c}=a.value;return!c||c.length===0||c.every(({visible:y})=>!y)});$(()=>e.currentNodeKey,c=>{n.value.setCurrentNodeKey(c)}),$(()=>e.defaultCheckedKeys,c=>{n.value.setDefaultCheckedKey(c)}),$(()=>e.defaultExpandedKeys,c=>{n.value.setDefaultExpandedKeys(c)}),$(()=>e.data,c=>{n.value.setData(c)},{deep:!0}),$(()=>e.checkStrictly,c=>{n.value.checkStrictly=c});const r=c=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(c)},g=c=>Se(e.nodeKey,c.data),v=c=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const y=n.value.getNode(c);if(!y)return[];const Y=[y.data];let oe=y.parent;for(;oe&&oe!==a.value;)Y.push(oe.data),oe=oe.parent;return Y.reverse()},C=(c,y)=>n.value.getCheckedNodes(c,y),E=c=>n.value.getCheckedKeys(c),K=()=>{const c=n.value.getCurrentNode();return c?c.data:null},I=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const c=K();return c?c[e.nodeKey]:null},O=(c,y)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");n.value.setCheckedNodes(c,y)},H=(c,y)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");n.value.setCheckedKeys(c,y)},S=(c,y,Y)=>{n.value.setChecked(c,y,Y)},P=()=>n.value.getHalfCheckedNodes(),G=()=>n.value.getHalfCheckedKeys(),j=(c,y=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ee(n,t.emit,()=>n.value.setUserCurrentNode(c,y))},h=(c,y=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ee(n,t.emit,()=>n.value.setCurrentNodeKey(c,y))},k=c=>n.value.getNode(c),w=c=>{n.value.remove(c)},ne=(c,y)=>{n.value.append(c,y)},ce=(c,y)=>{n.value.insertBefore(c,y)},me=(c,y)=>{n.value.insertAfter(c,y)},b=(c,y,Y)=>{l(y),t.emit("node-expand",c,y,Y)},F=(c,y)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");n.value.updateChildren(c,y)};return de("RootTree",{ctx:t,props:e,store:n,root:a,currentNode:i,instance:Fe()}),de(Dt,void 0),{ns:s,store:n,root:a,currentNode:i,dragState:f,el$:d,dropIndicator$:p,isEmpty:u,filter:r,getNodeKey:g,getNodePath:v,getCheckedNodes:C,getCheckedKeys:E,getCurrentNode:K,getCurrentKey:I,setCheckedNodes:O,setCheckedKeys:H,setChecked:S,getHalfCheckedNodes:P,getHalfCheckedKeys:G,setCurrentNode:j,setCurrentKey:h,t:o,getNode:k,remove:w,append:ne,insertBefore:ce,insertAfter:me,handleNodeExpand:b,updateKeyChildren:F}}});function Ft(e,t,o,s,n,a){const i=M("el-tree-node");return N(),q("div",{ref:"el$",class:m([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(N(!0),q(He,null,je(e.root.childNodes,d=>(N(),T(i,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(N(),q("div",{key:0,class:m(e.ns.e("empty-block"))},[Ue(e.$slots,"empty",{},()=>{var d;return[L("span",{class:m(e.ns.e("empty-text"))},Z((d=e.emptyText)!=null?d:e.t("el.tree.emptyText")),3)]})],2)):R("v-if",!0),Q(L("div",{ref:"dropIndicator$",class:m(e.ns.e("drop-indicator"))},null,2),[[_,e.dragState.showDropIndicator]])],2)}var ge=ye(Pt,[["render",Ft],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ge.install=e=>{e.component(ge.name,ge)};const qt=ge,Ht=qt,jt=ve({name:"ElMessageBox",directives:{TrapFocus:Kt},components:{ElButton:xe,ElFocusTrap:wt,ElInput:vt,ElOverlay:Ct,ElIcon:Pe,...nt},inheritAttrs:!1,props:{buttonSize:{type:String,validator:kt},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:o,zIndex:s,ns:n,size:a}=ot("message-box",x(()=>e.buttonSize)),{t:i}=o,{nextZIndex:d}=s,p=D(!1),l=ze({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),f=x(()=>{const b=l.type;return{[n.bm("icon",b)]:b&&Me[b]}}),u=Le(),r=Le(),g=x(()=>l.icon||Me[l.type]||""),v=x(()=>!!l.message),C=D(),E=D(),K=D(),I=D(),O=D(),H=x(()=>l.confirmButtonClass);$(()=>l.inputValue,async b=>{await W(),e.boxType==="prompt"&&b!==null&&w()},{immediate:!0}),$(()=>p.value,b=>{var F,c;b&&(e.boxType!=="prompt"&&(l.autofocus?K.value=(c=(F=O.value)==null?void 0:F.$el)!=null?c:C.value:K.value=C.value),l.zIndex=d()),e.boxType==="prompt"&&(b?W().then(()=>{var y;I.value&&I.value.$el&&(l.autofocus?K.value=(y=ne())!=null?y:C.value:K.value=C.value)}):(l.editorErrorMessage="",l.validateError=!1))});const S=x(()=>e.draggable);Nt(C,E,S),Ke(async()=>{await W(),e.closeOnHashChange&&window.addEventListener("hashchange",P)}),st(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){p.value&&(p.value=!1,W(()=>{l.action&&t("action",l.action)}))}const G=()=>{e.closeOnClickModal&&k(l.distinguishCancelAndClose?"close":"cancel")},j=Et(G),h=b=>{if(l.inputType!=="textarea")return b.preventDefault(),k("confirm")},k=b=>{var F;e.boxType==="prompt"&&b==="confirm"&&!w()||(l.action=b,l.beforeClose?(F=l.beforeClose)==null||F.call(l,b,l,P):P())},w=()=>{if(e.boxType==="prompt"){const b=l.inputPattern;if(b&&!b.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||i("el.messagebox.error"),l.validateError=!0,!1;const F=l.inputValidator;if(typeof F=="function"){const c=F(l.inputValue);if(c===!1)return l.editorErrorMessage=l.inputErrorMessage||i("el.messagebox.error"),l.validateError=!0,!1;if(typeof c=="string")return l.editorErrorMessage=c,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},ne=()=>{const b=I.value.$refs;return b.input||b.textarea},ce=()=>{k("close")},me=()=>{e.closeOnPressEscape&&ce()};return e.lockScroll&&bt(p),{...at(l),ns:n,overlayEvent:j,visible:p,hasMessage:v,typeClass:f,contentId:u,inputId:r,btnSize:a,iconComponent:g,confirmButtonClasses:H,rootRef:C,focusStartRef:K,headerRef:E,inputRef:I,confirmRef:O,doClose:P,handleClose:ce,onCloseRequested:me,handleWrapperClick:G,handleInputEnter:h,handleAction:k,t:i}}}),Ut=["aria-label","aria-describedby"],Vt=["aria-label"],Gt=["id"];function xt(e,t,o,s,n,a){const i=M("el-icon"),d=M("close"),p=M("el-input"),l=M("el-button"),f=M("el-focus-trap"),u=M("el-overlay");return N(),T(rt,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=r=>e.$emit("vanish")),persisted:""},{default:B(()=>[Q(A(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:B(()=>[L("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:m(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...r)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...r)),onMousedown:t[9]||(t[9]=(...r)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...r)),onMouseup:t[10]||(t[10]=(...r)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...r))},[A(f,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:B(()=>[L("div",{ref:"rootRef",class:m([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:ke(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=z(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(N(),q("div",{key:0,ref:"headerRef",class:m(e.ns.e("header"))},[L("div",{class:m(e.ns.e("title"))},[e.iconComponent&&e.center?(N(),T(i,{key:0,class:m([e.ns.e("status"),e.typeClass])},{default:B(()=>[(N(),T(se(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),L("span",null,Z(e.title),1)],2),e.showClose?(N(),q("button",{key:0,type:"button",class:m(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=r=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=ue(z(r=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[A(i,{class:m(e.ns.e("close"))},{default:B(()=>[A(d)]),_:1},8,["class"])],42,Vt)):R("v-if",!0)],2)):R("v-if",!0),L("div",{id:e.contentId,class:m(e.ns.e("content"))},[L("div",{class:m(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(N(),T(i,{key:0,class:m([e.ns.e("status"),e.typeClass])},{default:B(()=>[(N(),T(se(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),e.hasMessage?(N(),q("div",{key:1,class:m(e.ns.e("message"))},[Ue(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(N(),T(se(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(N(),T(se(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:B(()=>[he(Z(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):R("v-if",!0)],2),Q(L("div",{class:m(e.ns.e("input"))},[A(p,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=r=>e.inputValue=r),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:m({invalid:e.validateError}),onKeydown:ue(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),L("div",{class:m(e.ns.e("errormsg")),style:ke({visibility:e.editorErrorMessage?"visible":"hidden"})},Z(e.editorErrorMessage),7)],2),[[_,e.showInput]])],10,Gt),L("div",{class:m(e.ns.e("btns"))},[e.showCancelButton?(N(),T(l,{key:0,loading:e.cancelButtonLoading,class:m([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=r=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=ue(z(r=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:B(()=>[he(Z(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):R("v-if",!0),Q(A(l,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:m([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=r=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=ue(z(r=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:B(()=>[he(Z(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[_,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Ut)]),_:3},8,["z-index","overlay-class","mask"]),[[_,e.visible]])]),_:3})}var Wt=ye(jt,[["render",xt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const le=new Map,Jt=e=>{let t=document.body;return e.appendTo&&(De(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ae(e.appendTo)&&(t=e.appendTo),Ae(t)||(qe("ElMessageBox","the appendTo option is not an HTMLElement. Falling back to document.body."),t=document.body)),t},Xt=(e,t,o=null)=>{const s=A(Wt,e,Ne(e.message)||Ve(e.message)?{default:Ne(e.message)?e.message:()=>e.message}:null);return s.appContext=o,Ge(s,t),Jt(e).appendChild(t.firstElementChild),s.component},Yt=()=>document.createElement("div"),Zt=(e,t)=>{const o=Yt();e.onVanish=()=>{Ge(null,o),le.delete(n)},e.onAction=a=>{const i=le.get(n);let d;e.showInput?d={value:n.inputValue,action:a}:d=a,e.callback?e.callback(d,s.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(d)};const s=Xt(e,o,t),n=s.proxy;for(const a in e)ae(e,a)&&!ae(n.$props,a)&&(n[a]=e[a]);return n.visible=!0,n};function te(e,t=null){if(!dt)return Promise.reject();let o;return De(e)||Ve(e)?e={message:e}:o=e.callback,new Promise((s,n)=>{const a=Zt(e,t??te._context);le.set(a,{options:e,callback:o,resolve:s,reject:n})})}const Qt=["alert","confirm","prompt"],_t={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Qt.forEach(e=>{te[e]=en(e)});function en(e){return(t,o,s,n)=>{let a="";return Re(o)?(s=o,a=""):lt(o)?a="":a=o,te(Object.assign({title:a,message:t,type:"",..._t[e]},s,{boxType:e}),n)}}te.close=()=>{le.forEach((e,t)=>{t.doClose()}),le.clear()};te._context=null;const V=te;V.install=e=>{V._context=e._context,e.config.globalProperties.$msgbox=V,e.config.globalProperties.$messageBox=V,e.config.globalProperties.$alert=V.alert,e.config.globalProperties.$confirm=V.confirm,e.config.globalProperties.$prompt=V.prompt};const tn=V;const nn={__name:"authMenu",setup(e){const t=ct(),o=ut(),s=ft(),n={children:"children",label:"title"},a=D(null),i=D([]),d=D([]),p=()=>{tn.confirm("给予权限菜单之后会退出登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=a.value.getCheckedNodes(!1,!0).map(f=>f.id);localStorage.setItem("router",JSON.stringify(l)),t.setToken(""),o.replace(pt)})};return Ke(()=>{i.value=ht.data;const l=JSON.parse(localStorage.getItem("router"))||[],f=s.flatMenuListGet.filter(r=>r.disabled).map(r=>r.id),u=s.flatMenuListGet.filter(r=>r.parentCheck).map(r=>r.id);d.value=l.filter(r=>!u.includes(r)),d.value=[...d.value,...f]}),(l,f)=>{const u=Ht,r=xe,g=gt;return N(),q("div",null,[A(g,null,{default:B(()=>[A(u,{ref_key:"tree",ref:a,props:n,data:i.value,"show-checkbox":"","node-key":"id","default-checked-keys":d.value},null,8,["data","default-checked-keys"]),A(r,{type:"primary",onClick:p},{default:B(()=>[he("确认")]),_:1})]),_:1})])}}},gn=it(nn,[["__file","D:/item_file/vue-diverse-admin/src/views/auth/authMenu.vue"]]);export{gn as default};
