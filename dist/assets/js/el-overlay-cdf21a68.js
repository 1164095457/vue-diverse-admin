import{ab as O,at as z,au as y,ac as A,D as G,E as K,G as $,aA as N,i as V,aw as P,N as w,bb as j,bc as B,B as q,bd as Q,R as J,aK as Z,Q as F,ba as E,d as S,o as ee,e as te,w as oe,a6 as b,aP as ne,be as se,u as ae,z as de,M as ie,ak as re,al as H,a as le,h as ue}from"./index-e27f3969.js";const ce='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',me=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,he=t=>Array.from(t.querySelectorAll(ce)).filter(n=>pe(n)&&me(n)),pe=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ge=function(t,n,...o){let s;n.includes("mouse")||n.includes("click")?s="MouseEvents":n.includes("key")?s="KeyboardEvent":s="HTMLEvents";const e=document.createEvent(s);return e.initEvent(n,...o),t.dispatchEvent(e),t};let c;const fe=t=>{var n;if(!O)return 0;if(c!==void 0)return c;const o=document.createElement("div");o.className=`${t}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const s=o.offsetWidth;o.style.overflow="scroll";const e=document.createElement("div");e.style.width="100%",o.appendChild(e);const d=e.offsetWidth;return(n=o.parentNode)==null||n.removeChild(o),c=s-d,c},_e=t=>["",...z].includes(t);var m=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(m||{});const T=t=>{const n=y(t)?t:[t],o=[];return n.forEach(s=>{var e;y(s)?o.push(...T(s)):A(s)&&y(s.children)?o.push(...T(s.children)):(o.push(s),A(s)&&((e=s.component)!=null&&e.subTree)&&o.push(...T(s.component.subTree)))}),o},xe=(t,n,o)=>{let s={offsetX:0,offsetY:0};const e=i=>{const r=i.clientX,f=i.clientY,{offsetX:l,offsetY:v}=s,u=t.value.getBoundingClientRect(),C=u.left,h=u.top,k=u.width,Y=u.height,D=document.documentElement.clientWidth,I=document.documentElement.clientHeight,R=-C+l,W=-h+v,X=D-C-k+l,U=I-h-Y+v,g=x=>{const L=Math.min(Math.max(l+x.clientX-r,R),X),M=Math.min(Math.max(v+x.clientY-f,W),U);s={offsetX:L,offsetY:M},t.value.style.transform=`translate(${N(L)}, ${N(M)})`},_=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",_)},d=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",e)},a=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",e)};G(()=>{K(()=>{o.value?d():a()})}),$(()=>{a()})},Le=(t,n={})=>{V(t)||P("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||w("popup"),s=j(()=>o.bm("parent","hidden"));if(!O||B(document.body,s.value))return;let e=0,d=!1,a="0";const i=()=>{setTimeout(()=>{F(document==null?void 0:document.body,s.value),d&&document&&(document.body.style.width=a)},200)};q(t,r=>{if(!r){i();return}d=!B(document.body,s.value),d&&(a=document.body.style.width),e=fe(o.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,l=Q(document.body,"overflowY");e>0&&(f||l==="scroll")&&d&&(document.body.style.width=`calc(100% - ${e}px)`),J(document.body,s.value)}),Z(()=>i())},ve=t=>{if(!t)return{onClick:E,onMousedown:E,onMouseup:E};let n=!1,o=!1;return{onClick:a=>{n&&o&&t(a),n=o=!1},onMousedown:a=>{n=a.target===a.currentTarget},onMouseup:a=>{o=a.target===a.currentTarget}}},ye=S({name:"ElCollapseTransition"}),Ee=S({...ye,setup(t){const n=w("collapse-transition"),o=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},s={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){o(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){o(e)},leaveCancelled(e){o(e)}};return(e,d)=>(ee(),te(de,ne({name:ae(n).b()},se(s)),{default:oe(()=>[b(e.$slots,"default")]),_:3},16,["name"]))}});var p=ie(Ee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);p.install=t=>{t.component(p.name,p)};const Me=p,Te=re({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:H([String,Array,Object])},zIndex:{type:H([String,Number])}}),be={click:t=>t instanceof MouseEvent},we="overlay";var Se=S({name:"ElOverlay",props:Te,emits:be,setup(t,{slots:n,emit:o}){const s=w(we),e=r=>{o("click",r)},{onClick:d,onMousedown:a,onMouseup:i}=ve(t.customMaskEvent?void 0:e);return()=>t.mask?le("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:d,onMousedown:a,onMouseup:i},[b(n,"default")],m.STYLE|m.CLASS|m.PROPS,["onClick","onMouseup","onMousedown"]):ue("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(n,"default")])}});const Ae=Se;export{Ae as E,Me as _,Le as a,ve as b,T as f,_e as i,he as o,ge as t,xe as u};
