import{aJ as N,aK as A,u as E,b as V,B as T,p as Q,_ as F,d as k,E as P,D as j,o as z,c as X,t as q,v as G}from"./index-e27f3969.js";function J(e){return N()?(A(e),!0):!1}function f(e){return typeof e=="function"?e():E(e)}function K(e,n=!1,a="Timeout"){return new Promise((u,s)=>{setTimeout(n?()=>s(a):u,e)})}function $(e){return e}const M={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},R=Object.assign({},{linear:$},M);function H([e,n,a,u]){const s=(t,r)=>1-3*r+3*t,i=(t,r)=>3*r-6*t,l=t=>3*t,d=(t,r,c)=>((s(r,c)*t+i(r,c))*t+l(r))*t,m=(t,r,c)=>3*s(r,c)*t*t+2*i(r,c)*t+l(r),v=t=>{let r=t;for(let c=0;c<4;++c){const o=m(r,e,a);if(o===0)return r;const p=d(r,e,a)-t;r-=p/o}return r};return t=>e===n&&a===u?t:d(v(t),n,u)}function h(e,n,a){return e+a*(n-e)}function I(e){return(typeof e=="number"?[e]:e)||[]}function L(e,n,a,u={}){var s,i;const l=f(n),d=f(a),m=I(l),v=I(d),t=(s=f(u.duration))!=null?s:1e3,r=Date.now(),c=Date.now()+t,o=typeof u.transition=="function"?u.transition:(i=f(u.transition))!=null?i:$,p=typeof o=="function"?o:H(o);return new Promise(_=>{e.value=l;const S=()=>{var y;if((y=u.abort)!=null&&y.call(u)){_();return}const O=Date.now(),b=p((O-r)/t),w=I(e.value).map((D,g)=>h(m[g],v[g],b));Array.isArray(e.value)?e.value=w.map((D,g)=>{var x,C;return h((x=m[g])!=null?x:0,(C=v[g])!=null?C:0,b)}):typeof e.value=="number"&&(e.value=w[0]),O<c?requestAnimationFrame(S):(e.value=d,_())};S()})}function B(e,n={}){let a=0;const u=()=>{const i=f(e);return typeof i=="number"?i:i.map(f)},s=V(u());return T(u,async i=>{var l,d;if(f(n.disabled))return;const m=++a;if(n.delay&&await K(f(n.delay)),m!==a)return;const v=Array.isArray(i)?i.map(f):f(i);(l=n.onStarted)==null||l.call(n),await L(s,s.value,v,{...n,abort:()=>{var t;return m!==a||((t=n.abort)==null?void 0:t.call(n))}}),(d=n.onFinished)==null||d.call(n)},{deep:!0}),T(()=>f(n.disabled),i=>{i&&(a++,s.value=u())}),J(()=>{a++}),Q(()=>f(n.disabled)?u():s.value)}function U(e,n){return toString.call(e)===`[object ${n}]`}function W(e){return U(e,"Number")}const Y={startVal:{type:Number,default:0},endVal:{type:Number,default:99},duration:{type:Number,default:1e3},autoplay:{type:Boolean,default:!0},cutting:{type:Boolean,default:!1},decimals:{type:Number,default:0,validator(e){return e>=0}},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimal:{type:String,default:"."},color:{type:String},useEasing:{type:Boolean,default:!0},transition:{type:String,default:"linear"}},Z=k({props:Y,emits:["onStarted","onFinished"],setup(e,{emit:n}){const a=V(e.startVal),u=V(!1);let s=B(a);const i=Q(()=>v(E(s)));P(()=>{a.value=e.startVal}),T([()=>e.startVal,()=>e.endVal],()=>{e.autoplay&&l()}),j(()=>{e.autoplay&&l()});function l(){m(),a.value=e.endVal}function d(){a.value=e.startVal,m()}function m(){s=B(a,{disabled:u,duration:e.duration,onFinished:()=>n("onFinished"),onStarted:()=>n("onStarted"),...e.useEasing?{transition:R[e.transition]}:{}})}function v(t){if(!t&&t!==0)return"";const{decimals:r,decimal:c,separator:o,suffix:p,prefix:_}=e;t=Number(t).toFixed(r),t+="";const S=t.split(".");let y=S[0];const O=S.length>1?c+S[1]:"",b=/(\d+)(\d{3})/;if(e.cutting){if(o&&!W(o))for(;b.test(y);)y=y.replace(b,"$1"+o+"$2")}else if(o&&!o)for(;b.test(y);)y=y.replace(b,"$1"+o+"$2");return _+y+O+p}return{value:i,start:l,reset:d}}});function ee(e,n,a,u,s,i){return z(),X("span",{style:G({color:e.color})},q(e.value),5)}const ne=F(Z,[["render",ee],["__file","D:/item_file/vue-diverse-admin/src/components/CountTo/src/CountTo.vue"]]);export{ne as C};
